# ================================
# Frontend / Integração CMS (PÚBLICO)
# ================================
NEXT_PUBLIC_DIRECTUS_URL=https://cms.seudominio.com

# Mapbox (público)
NEXT_PUBLIC_MAPBOX_API_KEY=pk.XXXXXX_SUBSTITUIR
NEXT_PUBLIC_MAPBOX_STYLE=mapbox://styles/usuario/estilo123

# reCAPTCHA
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=CHANGE_ME__site_key
RECAPTCHA_SECRET_KEY=CHANGE_ME__secret_key

# ================================
# Directus (SERVIDOR)
# ================================
# URL pública do Directus (obrigatório https em prod)
PUBLIC_URL=https://cms.seudominio.com
TRUST_PROXY=true
WEBSOCKETS_ENABLED=true

# Tokens/segredos (gere valores novos e fortes para prod!)
DIRECTUS_SECRET=CHANGE_ME__segredo_unico_forte
DIRECTUS_STATIC_TOKEN=CHANGE_ME__token_estatico_se_precisar
API_TOKEN=CHANGE_ME__se_teu_app_usar

# Admin Bootstrap (usado só na primeira inicialização)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# CORS (origens permitidas)
CORS_ENABLED=true
CORS_ORIGIN=https://cms.seudominio.com,https://seudominio.com,https://www.seudominio.com

# ================================
# Banco de dados
# ================================
DB_CLIENT=pg
DB_HOST=directus-database
DB_PORT=5432
DB_DATABASE=directus
DB_USER=directus
DB_PASSWORD=CHANGE_ME__senha_db_forte

# ================================
# Cache / Rate Limit (Redis)
# ================================
CACHE_ENABLED=true
CACHE_AUTO_PURGE=true
CACHE_STORE=redis
REDIS=redis://directus-cache:6379
RATE_LIMITER_STORE=redis

# ================================
# Cookies (produção em subdomínio)
# ================================
REFRESH_TOKEN_COOKIE_SECURE=true
REFRESH_TOKEN_COOKIE_SAME_SITE=lax
REFRESH_TOKEN_COOKIE_DOMAIN=cms.seudominio.com

SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAME_SITE=lax
SESSION_COOKIE_DOMAIN=cms.seudominio.com

# ================================
# Extensões
# ================================
EXTENSIONS_PATH=./extensions
EXTENSIONS_AUTO_RELOAD=false

# ================================
# Armazenamento de arquivos (MinIO/S3-compatível)
# ================================
MINIO_ROOT_USER=CHANGE_ME__minio_user
MINIO_ROOT_PASSWORD=CHANGE_ME__minio_password
MINIO_BUCKET=directus
MINIO_REGION=us-east-1
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

STORAGE_LOCATIONS=s3
DEFAULT_STORAGE=s3
STORAGE_S3_DRIVER=s3
STORAGE_S3_BUCKET=directus
STORAGE_S3_KEY=${MINIO_ROOT_USER}
STORAGE_S3_SECRET=${MINIO_ROOT_PASSWORD}
STORAGE_S3_ENDPOINT=http://directus-minio:9000
STORAGE_S3_REGION=us-east-1
STORAGE_S3_FORCE_PATH_STYLE=true
STORAGE_S3_ROOT=uploads

# ================================
# Content-Security-Policy (FRAME_SRC)
# ================================
CONTENT_SECURITY_POLICY_DIRECTIVES__FRAME_SRC=https://seudominio.com,https://www.seudominio.com,https://*.youtube.com,https://*.vimeo.com

# ================================
# E-mail (opcional)
# ================================
# EMAIL_TRANSPORT=smtp
# EMAIL_FROM="App <no-reply@seudominio.com>"
# EMAIL_SMTP_HOST=smtp.seuprovedor.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=no-reply@seudominio.com
# EMAIL_SMTP_PASSWORD=CHANGE_ME_strong_password

# ================================
# Interno (somente se o compose usar)
# ================================
DIRECTUS_INTERNAL_URL=http://directus:8055
